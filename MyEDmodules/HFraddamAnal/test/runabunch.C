#include "TROOT.h"
#include "TString.h"

const int runs[] = 
  //    { 208492, 208231, 207994, 207910, 207846, 207701, 207553, 207334, 207130, 206974, 206910, 206633, 206450, 206370, 206079, 205926, 205843, 205798, 205704, 205354, 205269, 205226, 205121, 205055, 204921, 204582, 203840, 202914, 202631, 202488, 202337, 202189, 202124, 202063, 202019, 201894, 201833, 201736, 201682, 201569, 201297, 201214, 201181, 200965, 200869, 200805, 200704, 200643, 200537, 200482, 200391, 200331, 200287, 200059, 199894, 199840, 199816, 199707, 199664, 199444, 199414, 199388, 199194, 199111, 199031, 199015, 198958, 198861, 198632, 198561, 198254, 197138, 196974, 196872, 196482, 196416, 196280, 196158, 195979, 195781, 195675, 195468, 195406, 195323, 195225, 195169, 195061, 195020, 194941, 194848, 194801, 194738, 194549, 194500, 194328, 194236, 194163, 194055, 193733, 193644, 193590, 193512, 193382, 193243, 193156, 192848, 192186, 191965, 191734, 191659, 191231, 190749, 190559, 190337, 189846, 189043, 188655, 188590, 187937, -1 };
  //    { 196416, 196280, 196158, 195979, 195781, 195675, 195468, 195406, 195323, 195225, 195169, 195061, 195020, 194941, 194848, 194801, 194738, 194549, 194500, 194328, 194236, 194163, 194055, 193733, 193644, 193590, 193512, 193382, 193243, 193156, 192848, -1 };
  { 194738, 194549, -1 };
void runabunch()
{
  gROOT->ProcessLine(".L scanphases.C+");

  for (int i=0; runs[i]>0; i++) {
    TString infile =
      TString("_root/hfraddam_run")+
      TString::Format("%d",runs[i])+
      TString(".root");
    TString logfile =
      TString("scanphases_run")+
      TString::Format("%d",runs[i])+
      TString(".log");
    TString cmd=Form("scanphases(\"%s\",%d)",infile.Data(),runs[i]) + TString("; >") + logfile;
    //cout << cmd << endl;
    gROOT->ProcessLine(cmd);
  }
}
